# 两阶段意见摘要模型实验记录
[代码]()
## 1.处理数据集
## 2.复现对话摘要模型结果
模型  | RG-1 | RG-2 | RG-L
---- | ----- | ----- | -----
原模型  | 36.81 | 19.63 | **29.61**
复现（脱敏数据）| **42.93** | **20.68** | 28.90

在脱敏数据上的复现效果较好，说明模型指标正常
## 3.两阶段意见摘要模型
### （1）未分开三部分且直接利用分词结果评估
模型  | RG-1 | RG-2 | RG-L
---- | ----- | ----- | -----
SelSum-Verdict  | 24.33 | **5.29** | 18.84
SelSum-Pros | 21.29 | 4.00 | **19.39**
SelSum-Cons | 14.96 | 2.60 | 13.07
MyModel-e1(V+P+C) | 25.98 | 5.25 | 19.00
MyModel-e2(V+P+C) | **26.04** | 5.28 | 19.06

SelSum模型分三部分评估，我合并评估，并且是分词之后的结果评估，用分词后的结果评估不合理，且需要分开三部分评估才能和原模型指标对比。
### （2）分开三部分且合并单词后评估
模型  | V-R1 | V-R2 | V-RL | P-R1 | P-R2 | P-RL | C-R1 | C-R2 | C-RL 
---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- 
SelSum | **24.33** | **5.29** | **18.84** | **21.29** | **4.00** | **19.39** | **14.96** | **2.60** | **13.07**
MyModel-e1 | 20.85 | 4.73 | 15.88 | 16.80 | 3.09 | 10.84 | 8.14 | 1.42 | 6.26
MyModel-e2 | 19.59 | 4.41 | 14.85 | 16.90 | 2.95 | 10.83 | 9.16 | 1.50 | 7.06
MyModel-w/o-topic | 20.19 | 4.14 | 15.24 | 16.66 | 2.85 | 10.65 | 8.35 | 1.51 | 6.53

修改评估正确以后，指标掉的很多，说明原来的代码有问题，分析原因是合并评估的分隔符会被认为是匹配，同时分词匹配的结果和合并单词匹配的结果会相差很大。

主题模型加不加效果变化不大，说明主题模型存在问题，需要修改。发现问题在于主题表示为【总体主题表示，随机，随机】，主题向量有两部分都是随机的，主题表示的效果肯定存在问题。

#### （2.1）对比强化学习前后模型指标的变化情况，以MyModel-e1为例：
模型  | V-R1 | V-R2 | V-RL | P-R1 | P-R2 | P-RL | C-R1 | C-R2 | C-RL 
---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- 
MyModel-e1-pre | 20.80 | 4.68 | 15.85 | **16.81** | 3.09 | **10.88** | 8.08 | 1.38 | 6.18
MyModel-e1-rl | **20.85** | **4.73** | **15.88** | 16.80 | **3.09** | 10.84 | **8.14** | **1.42** | **6.26**

说明强化学习起作用了的，可能不会提升特别多的指标，但是会提高。

### （3）修改主题模型的主题表示，打开/关闭主题模型的后评估
模型  | V-R1 | V-R2 | V-RL | P-R1 | P-R2 | P-RL | C-R1 | C-R2 | C-RL 
---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- 
MyModel-BOW*3 | 20.09 | 4.39 | 15.14 | 17.02 | 3.00 | 10.83 | 8.97 | 1.67 | 6.92
MyModel-BOW*1 | 20.27 | 4.32 | 15.28 | 16.93 | 2.93 | 10.73 | 8.46 | 1.56 | 6.57
MyModel-w/o-topic | 20.39 | 4.59 | 15.28 | 17.02 | 3.09 | 10.87 | 8.82 | 1.57 | 6.79

#### （3.1）对比主题模型用【总体主题表示，总体主题表示，总体主题表示】（BOW-3）和【总体主题表示】（BOW-1）的效果
模型  | V-R1 | V-R2 | V-RL | P-R1 | P-R2 | P-RL | C-R1 | C-R2 | C-RL 
---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- 
MyModel-BOW-3 | 20.09 | **4.39** | 15.14 | **17.02** | **3.00** | **10.83** | **8.97** | **1.67** | **6.92**
MyModel-BOW-1 | **20.27** | 4.32 | **15.28** | 16.93 | 2.93 | 10.73 | 8.46 | 1.56 | 6.57

说明：主题模型BOW-3的效果比BOW-1的效果好

#### （3.2）对比主题模型打开关闭前后（BOW-3）和（w/o-topic）的效果
模型  | V-R1 | V-R2 | V-RL | P-R1 | P-R2 | P-RL | C-R1 | C-R2 | C-RL 
---- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- 
MyModel-BOW*3 | 20.09 | 4.39 | 15.14 | 17.02 | 3.00 | 10.83 | **8.97** | **1.67** | **6.92**
MyModel-w/o-topic | **20.39** | **4.59** | **15.28** | **17.02** | **3.09** | **10.87** | 8.82 | 1.57 | 6.79

说明：关闭主题模型的效果比打开的效果好，那主题模型相当于不起作用，我们需要进一步修改主题模型

